{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Alert,List,ListItem}from\"@mui/material\";import{UserContext}from\"../UserContext\";import{CoursePreview}from\"./CoursePreview\";import{LoadingPage}from\"../LoadingPage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function CourseList(){const settings=useContext(UserContext);const[loading,setLoading]=useState(true);const[courses,setCourses]=useState([]);const[courseHasLanguageMismatch,setCourseHasLanguageMismatch]=useState(false);useEffect(()=>{setLoading(true);fetch('/api/courses/preview_list',{method:'POST',body:JSON.stringify({lang:settings.language,get_all_courses:true,user_id:settings.userID}),headers:{\"Content-Type\":\"application/json\"}}).then(res=>{return res.json();}).then(data=>{if(data.coursePreviews.find(a=>a.language!==settings.language)){console.log(\"Some Courses are not available in selected language.\");setCourseHasLanguageMismatch(true);setTimeout(()=>{setCourseHasLanguageMismatch(false);},5000);}setCourses(()=>data.coursePreviews);setLoading(()=>false);});},[settings.language,settings.user_id]);const renderCourses=()=>{return/*#__PURE__*/_jsxs(List,{children:[courseHasLanguageMismatch&&/*#__PURE__*/_jsx(Alert,{className:\"ListAlert\",severity:\"warning\",children:\"Some courses are not available in the selected language.\"}),courses.map((course,index)=>{return/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(CoursePreview,{course:course})},index);})]});};return loading?/*#__PURE__*/_jsx(LoadingPage,{}):renderCourses();}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}